(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(8),s=c.n(a),o=(c(13),c(4)),i=(c(14),c(3)),u=c(2),j=Object(u.c)("memory-cards"),l=j.createEvent("card is being toggled"),d=j.createEvent("tuple is cleared"),f=j.createEvent("card is being removed"),m=j.createEvent("Attempt counter is increased"),b=j.createEvent("Game has been reset"),O=Object.freeze({CARDS_QUANTITY:12}),v=function(e){for(var t=e/2,c=[],n=0;n<t;n++){var r=[n,n];c=[].concat(Object(i.a)(c),[r])}return c.flat().sort((function(){return Math.random()-.5}))},g=j.createStore(v(O.CARDS_QUANTITY)),p=j.createStore([]),h=g.getState(),x=p.map((function(e){return e.map((function(e){return h[e]}))})),_=j.createStore([]),N=j.createStore(0),A=_.map((function(e){return e.length>O.CARDS_QUANTITY/2-1}));p.on(l,(function(e,t){return[].concat(Object(i.a)(e),[t])})),p.on(d,(function(){return[]})),g.on(b,(function(e){return v(O.CARDS_QUANTITY)})),_.on(f,(function(e,t){return[].concat(Object(i.a)(e),[t])})),N.on(m,(function(e){return e+1})),x.watch((function(e){2===e.length&&e[0]===e[1]&&setTimeout((function(){f(e[0])}),500)})),Object(u.f)({from:d,to:m}),_.reset(b),N.reset(b),b.watch((function(){h=g.getState()}));c(15),c(16);var T=c(1),S={transform:"scale(0.0001)"},E=function(e){var t=e.value,c=e.index,n=e.isToggled,r=e.isRemoved,a=Object(o.a)(p);return Object(T.jsx)("div",{className:n?"card card--toggled":"card",style:r?S:{},onClick:function(){2===a.length||r||n||l(c)},children:Object(T.jsx)("img",{className:"card__img",src:"assets/".concat(t,".svg"),alt:""})})},y=function(){var e=Object(o.a)(g),t=Object(o.a)(p),c=Object(o.a)(_),r=function(e){return e===t[0]||e===t[1]};return Object(n.useEffect)((function(){2===t.length&&setTimeout((function(){return d()}),1e3)}),[t]),Object(T.jsx)("div",{className:"cards-list",children:e.map((function(e,t){return Object(T.jsx)(E,{value:e,index:t,isToggled:r(t),isRemoved:c.includes(e)},t)}))})},C=(c(18),"score"),R=function(){var e=Object(o.a)(N);return Object(n.useEffect)((function(){return C="score score--loaded",function(){C="score"}}),[]),Object(T.jsxs)("div",{className:C,children:[Object(T.jsx)("img",{className:"score__img",src:"assets/trophy.svg",alt:"winner!"}),Object(T.jsxs)("div",{className:"score__title",children:["Congrats! You've beaten the game in ",e," attempts!"]}),Object(T.jsx)("button",{className:"score__btn",onClick:function(){return b()},children:"PLAY AGAIN"})]})};var I=function(){var e=Object(o.a)(N),t=Object(o.a)(A);return Object(T.jsxs)("div",{className:"app",children:[Object(T.jsx)("h1",{className:"app__title",children:"React + effector memory card game"}),!t&&Object(T.jsxs)("div",{className:"app__counter",children:["Attempts: ",e]}),!t&&Object(T.jsx)(y,{}),t&&Object(T.jsx)(R,{})]})};s.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(I,{})}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.d3951285.chunk.js.map